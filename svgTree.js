var StackElement;StackElement=function(){function t(t){this.options=null!=t?t:{},_.defaults(this.options,this.getDefaultOptions()),this.__heightChangedCallbacks=[]}return t.prototype.getDefaultOptions=function(){return{animationDuration:500}},t.prototype.moveTo=function(t,e,r){var i;if(null==r&&(r=!1),i=this._animate(this._el,r),null!==t)null!==e?i.move(t,e):i.x(t);else{if(null===e)throw new Error("x either y must be not null");i.y(e)}return this},t.prototype.moveBy=function(t,e,r){var i;return null==r&&(r=!1),i=this._animate(this._el,r),i.dmove(t,e),this},t.prototype.getHeight=function(){return this._el.node.getBBox().height},t.prototype.renderTo=function(t){return this._parentEl=t,this._el=this._createEl().addClass(this.__proto__.constructor.name)},t.prototype._createEl=function(){return this._parentEl.group()},t.prototype.visible=function(){return this._el.visible()},t.prototype.show=function(){return this._el.show()},t.prototype.hide=function(){return this._el.hide()},t.prototype.toggle=function(){return this.visible()?this.hide():this.show()},t.prototype.fadeIn=function(t){return this._el.show(),setTimeout(function(e){return function(){return e._animate(e._el,!0).opacity(1).after(function(){return t?t():void 0})}}(this),0)},t.prototype.fadeOut=function(t){return this._animate(this._el,!0).opacity(0).after(function(e){return function(){return e._el.hide(),t?t():void 0}}(this))},t.prototype.fadeToggle=function(t){return this.visible()?this.fadeOut(t):(this.fadeIn(),t?t():void 0)},t.prototype.ignoreHeight=function(){return this.options.ignoreHeight||!this.visible()},t.prototype._animate=function(t,e){return e?t.animate(this.options.animationDuration):t},t.prototype.onHeightChanged=function(t){return this.__heightChangedCallbacks.push(t)},t.prototype._fireHeightChanged=function(){var t,e,r,i,n;for(i=this.__heightChangedCallbacks,n=[],e=0,r=i.length;r>e;e++)t=i[e],n.push(t(this,this.getHeight()));return n},t}();var StackHtmlElement,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,slice=[].slice;StackHtmlElement=function(t){function e(t,r){this.content=t,e.__super__.constructor.call(this,r),this.__wrapperEventHandlers=[],this.prepended=[],this.appended=[]}return extend(e,t),e.prototype.getDefaultOptions=function(){return _.extend(e.__super__.getDefaultOptions.call(this),{htmlPadding:10,htmlWidth:null,htmlWrapperClass:"content-wrapper",htmlRect:!0,htmlRectStrokeColor:"gray",htmlRectStrokeWidth:1,htmlRectFill:"#EEF",htmlMinHeight:30})},e.prototype.renderTo=function(t){return e.__super__.renderTo.call(this,t),this.options.htmlRect&&(this._rect=this._el.rect().stroke({color:this.options.htmlRectStrokeColor,width:this.options.htmlRectStrokeWidth,dasharray:this.options.htmlRectStrokeDasharray}).fill(this.options.htmlRectFill)),this._foreignObject=this._el.foreignObject(),this._renderContents(!1)},e.prototype._renderContents=function(t){var e,r,i,n,o,s,h,a,p,l,d,c,u,_,g,f,C;for(this._wrapper||(this._wrapper=$("<div>").addClass(this.options.htmlWrapperClass).addClass(this.options.htmlWrapperAdditionalClass).css({padding:this.options.htmlPadding,"float":"left",width:this.options.htmlWidth-2*this.options.htmlPadding,"min-height":this.options.htmlMinHeight}).data("stack-element",this).get(0)),o=$("<div>").addClass("stack-html-inner-wrapper"),o.html(this.content),$(this._wrapper).html(o),d=this.prepended,n=0,a=d.length;a>n;n++)e=d[n],o.before(e);for(c=this.appended,s=0,p=c.length;p>s;s++)e=c[s],$(this._wrapper).append(e);for($(this._wrapper).appendTo(document.body),C=[$(this._wrapper).outerWidth(),$(this._wrapper).outerHeight()],$(this._wrapper).remove(),i=this._foreignObject.node;i.firstChild;)i.removeChild(i.firstChild);for(i.appendChild(this._wrapper),u=this.__wrapperEventHandlers,h=0,l=u.length;l>h;h++)r=u[h],(_=$(this._wrapper)).on.apply(_,r);return this.height=C[1],this.options.htmlRect&&(g=this._animate(this._rect,t)).size.apply(g,C),(f=this._animate(this._foreignObject,t)).size.apply(f,C),this._fireHeightChanged()},e.prototype.getHeight=function(){return this.height},e.prototype.updateContent=function(t){return this.content=t,this._renderContents(!0)},e.prototype.on=function(){var t,e;return t=1<=arguments.length?slice.call(arguments,0):[],this._wrapper?(e=$(this._wrapper)).on.apply(e,t):this.__wrapperEventHandlers.push(t)},e}(StackElement);var StackAbstractContainer,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StackAbstractContainer=function(t){function e(t){e.__super__.constructor.call(this,t),this._children=[],this._updating=!1}return extend(e,t),e.prototype.renderTo=function(t){var r,i,n,o;for(e.__super__.renderTo.call(this,t),this.beginUpdate(),o=this._children,i=0,n=o.length;n>i;i++)r=o[i],r.renderTo(this._el);return this.endUpdate()},e.prototype.addChild=function(t){return this._children.push(t),t.onHeightChanged(function(t){return function(){return t._childHeightChanged(!0)}}(this)),t},e.prototype._arrange=function(t){throw new Error("Not Implemented")},e.prototype._childHeightChanged=function(t){return this._updating?void 0:this._arrange(t)},e.prototype.beginUpdate=function(){return this._updating=!0},e.prototype.endUpdate=function(){return this._updating=!1,this._childHeightChanged(!1)},e}(StackElement);var StackContainer,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StackContainer=function(t){function e(t){e.__super__.constructor.call(this,t),this._children=[],this._updating=!1}return extend(e,t),e.prototype.getDefaultOptions=function(){return _.extend(e.__super__.getDefaultOptions.call(this),{groupChildMargin:5})},e.prototype.getHeight=function(){return this.height},e.prototype._arrange=function(t){var e,r,i,n,o,s;if(r=0,0===this._children.length)return void(this.height=r);for(s=this._children,n=i=0,o=s.length;o>i;n=++i)e=s[n],e.ignoreHeight()||(e.moveTo(null,r,t),r+=e.getHeight(),r+=this.options.groupChildMargin);return r-=this.options.groupChildMargin,this.height=r,this._fireHeightChanged()},e}(StackAbstractContainer);var StackRoot,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StackRoot=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype._childHeightChanged=function(t){return e.__super__._childHeightChanged.call(this,t),this._resizeSvgContainer()},e.prototype._resizeSvgContainer=function(){return this._parentEl.height(this.getHeight())},e}(StackContainer);var StackVerticalContainer,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StackVerticalContainer=function(t){function e(t){e.__super__.constructor.call(this,t)}return extend(e,t),e.prototype.getDefaultOptions=function(){return _.extend(e.__super__.getDefaultOptions.call(this),{vertMargin:200})},e.prototype.getHeight=function(){return this.height},e.prototype._arrange=function(t){var e,r,i,n,o,s,h,a;if(o=0,0===this._children.length)return void(this.height=0);for(this.height=_.max(_.filter(this._children,function(t){return!t.ignoreHeight()}),function(t){return t.getHeight()}).getHeight(),this._fireHeightChanged(),a=0,s=this._children,h=[],i=0,n=s.length;n>i;i++)e=s[i],r=(this.height-e.getHeight())/2,e.moveTo(a,r,t),h.push(a+=_.isArray(this.options.vertMargin)?this.options.vertMargin.unshift():this.options.vertMargin);return h},e}(StackAbstractContainer);var StackHtmlDepElement,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StackHtmlDepElement=function(t){function e(t,r,i){var n,o;this.leftContent=t,this.rightContent=r,e.__super__.constructor.call(this,i),n=_.extend({htmlWidth:this.options.depWidth,htmlWrapperAdditionalClass:"dep-wrapper",htmlRectFill:this.options.depRectFill,htmlRectStrokeDasharray:this.options.depDasharray},this.options),o=_.extend({htmlWidth:this.options.depMainWidth,htmlWrapperAdditionalClass:"dep-wrapper",ignoreHeight:this.options.depIgnoreDepHeight},this.options),this._leftComponent=new StackHtmlElement(this.leftContent,n),this._rightComponent=new StackHtmlElement(this.rightContent,o),this.addChild(this._leftComponent),this.addChild(this._rightComponent),this._leftComponent.dep=this._rightComponent.dep=this}return extend(e,t),e.prototype.getDefaultOptions=function(){return _.extend(e.__super__.getDefaultOptions.call(this),{vertMargin:this.options.depWidth+30,depDasharray:"10 5"})},e.prototype._arrange=function(t){return e.__super__._arrange.call(this,t),this._drawArrow()},e.prototype._drawArrow=function(){var t,e;return t=this.getHeight()/2,e=[[this.options.depWidth,t],[this.options.vertMargin,t]],this._arrow?this._animate(this._arrow,!0).plot(e):this._arrow=this._el.polyline(e).stroke(this.options.depLineStroke)},e}(StackVerticalContainer);var StackHtmlElementWithCollapser,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StackHtmlElementWithCollapser=function(t){function e(t,r,i){this.tree=r,e.__super__.constructor.call(this,t,i),this.appended.push($("<div>").addClass(this.options.collapserWrapperClass)),this.on("click",".tree-header-collapser",function(t){return function(e){return e.preventDefault(),t.tree.toggleCollapse()}}(this)),this.tree.onCollapsed(function(t){return function(){return t._updateCollapser()}}(this))}return extend(e,t),e.prototype._renderContents=function(){return e.__super__._renderContents.call(this),this._updateCollapser()},e.prototype.getDefaultOptions=function(){return _.extend(e.__super__.getDefaultOptions.call(this),{collapsedTemplate:'<i class="fa fa-angle-double-down">',expandedTemplate:'<i class="fa fa-angle-double-up">',collapserWrapperClass:"tree-header-collapser"})},e.prototype._getCollapserTemplate=function(){return this.tree.collapsed?this.options.collapsedTemplate:this.options.expandedTemplate},e.prototype._updateCollapser=function(){return $(this._wrapper).find("."+this.options.collapserWrapperClass).html(this._getCollapserTemplate())},e}(StackHtmlElement);var StackTreeContainer,StackTreeHeaderProvider,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,slice=[].slice;StackTreeContainer=function(t){function e(t,r,i,n,o){var s,h;this.data=t,this.dataAccessors=r,this._headerProviderClass=i,this.depth=null!=o?o:0,e.__super__.constructor.call(this,n),this.options.groupChildMargin=0===this.depth?this.options.treeRootNestedMargin:this.options.treeNestedMargin,this._headerProvider=new this._headerProviderClass(this),this.collapsed=!1,this.__collapsedCallbacks=[],this._headerComponent=this._headerProvider.createHeader(),this._headerComponent.tree=this,this.addChild(this._headerComponent),s=this.dataAccessors.getChildrenArray(this.data),h=this.dataAccessors.getUnbindedArray(this.data),this._rootLineToEnd=!!h,(_.any(s)||_.any(h))&&(this._treeAllChildrenComponent=this.addChild(new StackContainer({groupChildMargin:0,animationDuration:this.options.animationDuration})),_.any(s)&&(this._treeOwnChildrenComponent=this._treeAllChildrenComponent.addChild(new StackContainer({groupChildMargin:this.options.treeFlatMargin,animationDuration:this.options.animationDuration})),this._childTrees=[],this._addTrees(s,this._childTrees,this._treeOwnChildrenComponent)),_.any(h)&&(this._unbindedTrees=[],this._treeAllChildrenComponent.addChild(new StructureTreeUnbindedX({xMargin:-(this.options.treeDepthShift-this.options.treeParentLineMargin),animationDuration:this.options.animationDuration})),this._treeUnbindedChildrenComponent=this._treeAllChildrenComponent.addChild(new StackContainer({groupChildMargin:0,animationDuration:this.options.animationDuration})),this._treeUnbindedChildrenComponent.addChild(new StackHtmlElement("<div style='width: "+(this.options.treeWidth-this.options.treeDepthShift)+"px; text-align: right; font-size: 12px; margin-bottom: 5px; color: red;'>unbinded</div>",{htmlRect:!1,htmlWidth:this.options.treeWidth-this.options.treeDepthShift,htmlMinHeight:null,htmlPadding:0,animationDuration:this.options.animationDuration})),this._treeUnbindedChildrenTreesComponent=this._treeUnbindedChildrenComponent.addChild(new StackContainer({groupChildMargin:this.options.treeFlatMargin,animationDuration:this.options.animationDuration})),this._addTrees(h,this._unbindedTrees,this._treeUnbindedChildrenTreesComponent,{treeDrawChildLine:!1,treeRectFill:this.options.treeUnbindedRectFill,treeRectStrokeColor:this.options.treeUnbindedRectStrokeColor,treeRectStrokeDasharray:this.options.treeUnbindedRectStrokeDasharray})))}return extend(e,t),e.prototype._addTrees=function(t,r,i,n){var o,s,h,a,p,l,d;for(d=[],a=p=0,l=t.length;l>=0?l>p:p>l;a=l>=0?++p:--p)o=t[a],s=_.clone(this.options),_.extend(s,{treeDrawChildLine:!0}),this.dataAccessors.isDep(o)&&(a<t.length-1&&this.dataAccessors.isDep(t[a+1])||a>0&&this.dataAccessors.isDep(t[a-1]))&&_.extend(s,{treeDepHasSurroundingDeps:!0}),_.extend(s,n),h=new e(o,this.dataAccessors,this._headerProviderClass,s,this.depth+1),i.addChild(h),d.push(r.push(h));return d},e.prototype.getDefaultOptions=function(){return _.extend(e.__super__.getDefaultOptions.call(this),{treeFlatMargin:20,treeNestedMargin:5,treeRootNestedMargin:50,treeDepthShift:30,treeWidth:300,treeParentLineMargin:10,treeDrawChildLine:!0,treeLineStroke:"gray",treeUnbindedLineStroke:"red",treeRectFill:"#EEF",treeRectStrokeColor:"gray",treeStrokeDasharray:"none",treeUnbindedRectFill:"#FFA",treeUnbindedRectStrokeColor:"red",treeUnbindedRectStrokeDasharray:"10 5"})},e.prototype.renderTo=function(t){return e.__super__.renderTo.call(this,t),this._treeAllChildrenComponent?this._treeAllChildrenComponent.moveBy(this.options.treeDepthShift,0):void 0},e.prototype.collapsible=function(){var t;return(null!=(t=this.dataAccessors.getChildrenArray(this.data))?t.length:void 0)>0&&this.depth>0},e.prototype.toggleCollapse=function(){return this.collapsible()&&(this.collapsed=!this.collapsed,this._fireCollapsed(),this._treeOwnChildrenComponent)?this._treeAllChildrenComponent.fadeToggle(function(t){return function(){return t._arrange(!0)}}(this)):void 0},e.prototype._arrange=function(t){return e.__super__._arrange.call(this,t),this.options.treeDrawChildLine&&this.depth>0&&this._drawChildLine(t),this._treeOwnChildrenComponent&&this._drawParentLine(t),this._treeUnbindedChildrenComponent?this._drawUnbindedLine(t):void 0},e.prototype._drawUnbindedLine=function(t){var e,r,i;return e=this.options.treeDepthShift-this.options.treeParentLineMargin,r=this._treeUnbindedChildrenComponent.getHeight(),i=[[-e,0],[-e,r]],this._unbindedLine?this._animate(this._unbindedLine,t).plot(i):this._unbindedLine=this._treeUnbindedChildrenComponent._el.polyline(i).stroke(this.options.treeUnbindedLineStroke)},e.prototype._drawChildLine=function(t){var e,r,i;return r=this._headerComponent.getHeight()/2,e=this.options.treeDepthShift-this.options.treeParentLineMargin,i=[[0,r],[-e,r]],this._childLine?this._animate(this._childLine,t).plot(i):this._childLine=this._headerComponent._el.polyline(i).stroke(this.options.treeLineStroke)},e.prototype._drawParentLine=function(t){var e,r,i,n,o,s,h;if(i=0,this._childTrees.length>1)for(h=this._childTrees.slice(0,+(this._childTrees.length-2)+1||9e9),n=0,o=h.length;o>n;n++)e=h[n],i+=e.getHeight()+this.options.treeFlatMargin;return i+=this._rootLineToEnd&&0===this.depth?this._childTrees[this._childTrees.length-1].getHeight():this._childTrees[this._childTrees.length-1]._headerComponent.getHeight()/2,r=this.options.treeDepthShift-this.options.treeParentLineMargin,s=[[-r,-this.options.groupChildMargin],[-r,i]],this._parentLine?this._animate(this._parentLine,t).plot(s):this._parentLine=this._treeOwnChildrenComponent._el.polyline(s).stroke(this.options.treeLineStroke)},e.prototype.onCollapsed=function(t){return this.__collapsedCallbacks.push(t)},e.prototype._fireCollapsed=function(){var t,e,r,i,n,o;for(t=1<=arguments.length?slice.call(arguments,0):[],n=this.__collapsedCallbacks,o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push(e(this,this.collapsed));return o},e}(StackContainer),StackTreeHeaderProvider=function(){function t(t){this.tree=t}return t.prototype.createHeader=function(){var t,e,r;return this.tree.dataAccessors.isDep(this.tree.data)?new StackHtmlDepElement(this.tree.dataAccessors.getContent(this.tree.data),this.tree.dataAccessors.getDepContent(this.tree.data),{animationDuration:this.tree.options.animationDuration,depMainWidth:this.tree.options.treeWidth,depWidth:this.tree.options.treeWidth-this.tree.options.treeDepthShift*this.tree.depth,depIgnoreDepHeight:!this.tree.options.treeDepHasSurroundingDeps,depRectFill:this.tree.options.treeDepRectFill,depDasharray:this.tree.options.treeDepDasharray,depLineStroke:this.tree.options.treeLineStroke}):(e=this.tree.collapsible()?new StackHtmlElementWithCollapser(this.tree.dataAccessors.getContent(this.tree.data),this.tree,{animationDuration:this.tree.options.animationDuration,htmlWidth:this.tree.options.treeWidth-this.tree.options.treeDepthShift*this.tree.depth,htmlRectFill:this.tree.options.treeRectFill,htmlRectStrokeColor:this.tree.options.treeRectStrokeColor,htmlRectStrokeDasharray:this.tree.options.treeRectStrokeDasharray}):new StackHtmlElement(this.tree.dataAccessors.getContent(this.tree.data),{animationDuration:this.tree.options.animationDuration,htmlWidth:this.tree.options.treeWidth-this.tree.options.treeDepthShift*this.tree.depth,htmlRectFill:this.tree.options.treeRectFill,htmlRectStrokeColor:this.tree.options.treeRectStrokeColor,htmlRectStrokeDasharray:this.tree.options.treeRectStrokeDasharray}),0!==this.tree.depth||this.tree.dataAccessors.hasDeps(this.tree.data)?e:(t=new StackVerticalContainer({animationDuration:this.tree.options.animationDuration,vertMargin:this.tree.options.treeWidth}),r=new StackHtmlElement('<span class="root-header-addition">There are no service dependencies</span>',{animationDuration:this.tree.options.animationDuration,htmlWidth:this.tree.options.treeWidth,htmlRect:!1,ignoreHeight:!0}),t.addChild(e),t.addChild(r),t))},t}();var StructureTree,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StructureTree=function(t){function e(t,r,i,n){var o;e.__super__.constructor.call(this,n),this._treeComponent=new StackTreeContainer(t,r,i,n),(o=this._treeComponent.dataAccessors.getParentContent(this._treeComponent.data))&&(this._treeParentComponent=new StackHtmlElement(o,{animationDuration:this._treeComponent.options.animationDuration,htmlWidth:this._treeComponent.options.treeWidth}),this._treeParentArrow=new StructureTreeArrow({arrowMainWidth:2*this._treeComponent.options.treeWidth,arrowPosition:this._treeComponent.options.treeWidth/2,arrowRootWidth:5,arrowRootHeight:20,arrowCapWidth:10,arrowPadding:10,arrowLineStroke:"gray",arrowStroke:"none",arrowFill:"#CCC",arrowLineDasharray:"10 3"}),this.addChild(this._treeParentComponent),this.addChild(this._treeParentArrow)),this.addChild(this._treeComponent)}return extend(e,t),e}(StackContainer);var StructureTreeArrow,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StructureTreeArrow=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.renderTo=function(t){var r,i,n,o,s,h,a,p,l,d,c,u,g,f,C,m;for(e.__super__.renderTo.call(this,t),g=_.values(_.pick(this.options,"arrowMainWidth","arrowPosition","arrowRootWidth","arrowRootHeight","arrowCapWidth","arrowPadding")),d=g[0],u=g[1],m=g[2],C=g[3],r=g[4],c=g[5],n=m+r,i=n+C,this.height=i,p=this._el.line(0,i/2,u-m-r-c,i/2),l=this._el.line(u+m+r+c,i/2,d,i/2),f=[p,l],o=0,h=f.length;h>o;o++)a=f[o],a.stroke(this.options.arrowLineStroke).style("stroke-dasharray",this.options.arrowLineDasharray);return s=this._el.polyline([[u,0],[u-m,0],[u-m,-C],[u-m-r,-C],[u-m-r+n,-C-n],[u-m-r+n+n,-C],[u-m-r+n+n-r,-C],[u-m-r+n+n-r,0]]).stroke(this.options.arrowStroke).fill(this.options.arrowFill).move(u-r-m,0)},e.prototype.getHeight=function(){return this.height},e}(StackElement);var StructureTreeUnbindedX,extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;StructureTreeUnbindedX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.renderTo=function(t){var r;return e.__super__.renderTo.call(this,t),this._el.text("x").stroke({color:"red",width:.3}),r=this._el.node.getBBox(),this._el.dx(this.options.xMargin-r.width/2),this.height=2*r.height},e.prototype.getHeight=function(){return this.height},e}(StackElement);var StructureTreeFactory;StructureTreeFactory={renderTree:function(t,e,r,i){var n,o,s;return o=SVG(t),n=new StackRoot,s=new StructureTree(e,r,StackTreeHeaderProvider,i),n.addChild(s),n.renderTo(o),s}};